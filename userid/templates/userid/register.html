{% extends 'base.html' %}

{% block content %}
<script src="https://www.google.com/recaptcha/api.js" async defer></script>

<main class="cover-container d-flex w-100 p-3 mx-auto flex-column">
    
      <div class="container mx-auto">
      {% for message in messages %}
      <p class="alert alert-success alert-dismissible fade show mx-auto" role="alert">
        <strong><small>{{message}}</small></strong>      
      </p>
      {% endfor %}
       <!-- <img class="d-block mx-auto mb-4" src="https://getbootstrap.com/docs/4.0/assets/brand/bootstrap-solid.svg" alt="" width="72" height="72"> -->
       
       <div class="py-5 text-center">
        <h1>Registration</h1>
        <p class="lead">Please fill the details below</p>
       </div>
        <form class="needs-validation" novalidate action="/signup" method ='post'>
          {% csrf_token %}
          <div class="row g-3">
            
            <div class="col-sm-6">
              <label for="firstName">First name</label>
              <input type="text" class="form-control" id="firstName" name="firstname" placeholder="" value="" required>
              <div class="invalid-feedback">
                Valid first name is required.
              </div>
            </div>
            <div class="col-sm-6">
              <label for="lastName">Last name</label>
              <input type="text" class="form-control" id="lastName" name="lastname" placeholder="" value="" required>
              <div class="invalid-feedback">
                Valid last name is required.
              </div>
            </div>
          </div>
    
          <div class="mb-3">
            <label for="username">Username</label>
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text">@</span>
              </div>
              <input type="text" class="form-control" id="username" name="username" placeholder="Username" required>
              <div class="invalid-feedback" style="width: 100%;">
                Your username is required.
              </div>
            </div>
          </div>
    
          <div class="mb-3">
            <label for="email">Email </label>
            <input type="email" class="form-control" id="email" name="email" placeholder="you@example.com" required>
            <div class="invalid-feedback">
              Please enter a valid email address.
            </div>
          </div>    
          <div class="mb-3">
            <label for="password">Password </label>
            <input type="password" class="form-control" id="password1" name="password1" placeholder="password" required>
            <div class="invalid-feedback" >
              Please enter your password correctly
            </div>
          </div>
    
          <div class="mb-3">
            <label for="password">Confirm Password </label>
            <input type="password" class="form-control"  id="password2" name="password2" placeholder="confirm password" required>
            
           <div class="invalid-feedback">
              Please enter your password correctly
            </div>
          </div>
          <div class="g-recaptcha" data-sitekey="6LdrSqQeAAAAADqKbwm0MD6dXzVPzribzdfNORPo"></div>
          <script>
            function checkPasswords(){
              var password1 = document.querySelector("#password1");
              var password2 = document.querySelector("#password2");
              if(password2.value != password1.value){       
                alert("Passwords not matching");                     
                password2.setCustomValidity("Passwords");
                password2.setCustomValidity("Passwords not matching");
               }   
               else{
                password2.setCustomValidity("");
               }
            }
          </script>
         
          
          <hr class="mb-4">
          <button class="btn btn-primary btn-lg btn-block" onclick="checkPasswords()"  type="submit">Submit</button><br><br><br>
          
        </form>
     

      

     <!-- <footer class="my-5 pt-5 text-muted text-center text-small">
         <p class="mb-1">&copy; 2017-2018 Company Name</p>
        <ul class="list-inline">
          <li class="list-inline-item"><a href="#">Privacy</a></li>
          <li class="list-inline-item"><a href="#">Terms</a></li>
          <li class="list-inline-item"><a href="#">Support</a></li>
        </ul> 
      </footer> -->
    </div>

  </main>   

  <script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function() {
      'use strict';
      
      window.addEventListener('load', function() {
        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.getElementsByClassName('needs-validation');

        // Loop over them and prevent submission
        var validation = Array.prototype.filter.call(forms, function(form) {
          form.addEventListener('submit', function(event) {                            
            if (form.checkValidity() === false) {
               event.preventDefault();
               event.stopPropagation();                 
            }
            form.classList.add('was-validated');
          }, false);
        });
      }, false);
    })();
  </script>
{% endblock %}